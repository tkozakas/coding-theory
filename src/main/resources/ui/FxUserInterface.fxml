<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.collections.FXCollections?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<SplitPane dividerPositions="0.5375939849624061" prefHeight="800.0" prefWidth="1000.0" xmlns="http://javafx.com/javafx/22" xmlns:fx="http://javafx.com/fxml/1" fx:controller="ui.FxUserInterface">
    <VBox>
        <GridPane hgap="10" prefHeight="801.0" prefWidth="501.0" vgap="10">
            <padding>
                <Insets bottom="10" left="10" right="10" top="10" />
            </padding>
            <columnConstraints>
                <ColumnConstraints maxWidth="161.0" minWidth="100.0" prefWidth="157.0" />
                <ColumnConstraints />
                <ColumnConstraints />
            <ColumnConstraints />
            </columnConstraints>

            <Label style="-fx-font-weight: bold;" text="Input:" GridPane.rowIndex="2" />
            <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="3">
                <HBox spacing="10">
                    <TextField fx:id="inputTextField" promptText="Vector (e.g., 1, 0, 1)" />
                </HBox>
            </HBox>

            <Label style="-fx-font-weight: bold;" text="Error Probability:" />
            <HBox spacing="10" GridPane.columnIndex="1">
                <TextField fx:id="errorProbabilityField" prefHeight="26.0" prefWidth="160.0" promptText="Enter probability" />
            </HBox>

            <Label style="-fx-font-weight: bold;" text="Alphabet Size:" GridPane.rowIndex="1" />
            <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="1">
                <TextField fx:id="alphabetSizeField" prefHeight="26.0" prefWidth="160.0" promptText="Enter alphabet size" />
            </HBox>
            <VBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="4">
                <Label fx:id="probabilityLabel" text="Probability (p): -" />
                <Label fx:id="alphabetLabel" text="Alphabet (q): 0" />
                <Label fx:id="inputTextLabel" text="Input Text: -" />
                <Label fx:id="currentBlockLabel" text="Current Block (m): -" />
            <Label fx:id="letterLabel" text="Letter: -" />
            </VBox>

            <Button onAction="#encodeBlock" prefWidth="100" text="Encode" GridPane.columnIndex="2" GridPane.rowIndex="4" />

            <Label style="-fx-font-weight: bold;" text="Encoded" GridPane.columnSpan="2" GridPane.rowIndex="5" />

            <Button onAction="#sendBlock" prefWidth="100" text="Send" GridPane.columnIndex="2" GridPane.rowIndex="5" />

            <Label style="-fx-font-weight: bold;" text="With Errors" GridPane.columnSpan="2" GridPane.rowIndex="6" />

            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="7">
                <Label fx:id="introducedErrorCountLabel" text="Introduced Errors: 0" />
                <Label fx:id="errorPositionsLabel" text="Error Positions: []" />
            </VBox>

            <Button onAction="#decodeBlock" prefWidth="100" text="Decode" GridPane.columnIndex="2" GridPane.rowIndex="6" />

            <Label style="-fx-font-weight: bold;" text="Corrected" GridPane.columnSpan="2" GridPane.rowIndex="8" />

            <Label style="-fx-font-weight: bold;" text="Decoded" GridPane.columnSpan="2" GridPane.rowIndex="9" />

            <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="12">
                <Button onAction="#toggleDebugMode" prefWidth="120" text="Toggle Debug" />
                <Button onAction="#processBlock" prefWidth="120" text="Process" />
            </HBox>
            <TextField fx:id="encodedBlockTextField" prefWidth="155" promptText="Encoded" GridPane.columnIndex="1" GridPane.rowIndex="5" />
            <TextField fx:id="receivedBlockTextField" prefWidth="155" promptText="With Error" GridPane.columnIndex="1" GridPane.rowIndex="6" />
            <TextField fx:id="correctedBlockTextField" prefWidth="155" promptText="Corrected" GridPane.columnIndex="1" GridPane.rowIndex="8" />
            <TextField fx:id="decodedBlockTextField" prefWidth="155" promptText="Decoded" GridPane.columnIndex="1" GridPane.rowIndex="9" />
            <Label style="-fx-font-weight: bold;" text="Process" GridPane.rowIndex="11" />
            <VBox spacing="10.0" GridPane.columnIndex="1" GridPane.rowIndex="13">
                <Label fx:id="decodedTextLabel" text="Decoded Text: -" />
            <Label fx:id="errorCountLabel" text="Errors Total: 0" />
                <Label fx:id="totalFixedErrorsLabel" text="Total Fixed Errors: 0" />
            </VBox>
            <ComboBox fx:id="inputTypeComboBox" onAction="#handleInputTypeSelection" prefHeight="26.0" prefWidth="291.0" GridPane.columnIndex="1" GridPane.rowIndex="2">
                <items>
                    <FXCollections fx:factory="observableArrayList">
                        <String fx:value="Vector" />
                        <String fx:value="Text" />
                        <String fx:value="Image" />
                    </FXCollections>
                </items>
            </ComboBox>
         <Label fx:id="errorsFixedLabel" text="Errors Fixed : 0" GridPane.columnIndex="1" GridPane.rowIndex="10" />
             <Button onAction="#setAlphabetSize" prefWidth="120" text="Set" GridPane.columnIndex="2" GridPane.rowIndex="1" />
             <Button onAction="#setProbability" prefWidth="120" text="Set" GridPane.columnIndex="2" />
             <Button onAction="#setInput" prefWidth="120" text="Set" GridPane.columnIndex="2" GridPane.rowIndex="3" />
            <rowConstraints>
                <RowConstraints maxHeight="26.0" minHeight="26.0" prefHeight="26.0" />
                <RowConstraints />
                <RowConstraints />
                <RowConstraints />
                <RowConstraints />
                <RowConstraints />
                <RowConstraints maxHeight="26.0" minHeight="26.0" prefHeight="26.0" />
                <RowConstraints />
                <RowConstraints />
                <RowConstraints />
            <RowConstraints />
                <RowConstraints maxHeight="18.0" minHeight="18.0" prefHeight="18.0" />
                <RowConstraints />
                <RowConstraints />
            </rowConstraints>

        </GridPane>
    </VBox>

    <GridPane hgap="10" vgap="10" xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml/1">

        <padding>
            <Insets bottom="10" left="10" right="10" top="10" />
        </padding>

        <columnConstraints>
            <ColumnConstraints minWidth="100" prefWidth="150" />
            <ColumnConstraints minWidth="200" prefWidth="250" />
        </columnConstraints>

        <Label text="Columns (n):" GridPane.columnIndex="0" GridPane.rowIndex="0" />
        <TextField fx:id="columnsField" promptText="Enter n" GridPane.columnIndex="1" GridPane.rowIndex="0" />

        <Label text="Rows (k):" GridPane.columnIndex="0" GridPane.rowIndex="1" />
        <TextField fx:id="rowsField" promptText="Enter k" GridPane.columnIndex="1" GridPane.rowIndex="1" />

        <Button onAction="#generateMatrix" prefWidth="120" text="New Matrix" GridPane.columnIndex="1" GridPane.halignment="LEFT" GridPane.rowIndex="2" />

        <Label style="-fx-font-weight: bold;" text="Generating Matrix (G):" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="3" />

        <TableView fx:id="generatingMatrixTable" editable="true" prefHeight="200" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="4" />

        <Label style="-fx-font-weight: bold;" text="Parity Check Matrix (H):" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="5" />

        <TableView fx:id="parityCheckMatrixTable" editable="true" prefHeight="200" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="6" />

        <Label style="-fx-font-weight: bold;" text="Coset Leader:" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="7" />

        <TableView fx:id="cosetLeaderTable" editable="true" prefHeight="300" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="8" />

        <Label text="Total:" GridPane.columnIndex="0" GridPane.rowIndex="9" />
        <TextField fx:id="totalCosetLeaders" editable="false" promptText="0" GridPane.columnIndex="1" GridPane.rowIndex="9" />
        <rowConstraints>
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
        </rowConstraints>
    </GridPane>
</SplitPane>
