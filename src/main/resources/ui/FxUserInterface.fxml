<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.collections.FXCollections?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<SplitPane dividerPositions="0.5375939849624061" prefHeight="800.0" prefWidth="1000.0" xmlns="http://javafx.com/javafx/22" xmlns:fx="http://javafx.com/fxml/1" fx:controller="ui.FxUserInterface">
    <GridPane hgap="10" vgap="10" xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml/1">
        <padding>
            <Insets bottom="10" left="10" right="10" top="10" />
        </padding>
        <columnConstraints>
            <ColumnConstraints minWidth="100" prefWidth="150" />
            <ColumnConstraints minWidth="200" prefWidth="250" />
        </columnConstraints>

        <Label text="Input:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
        <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="0">
            <ComboBox fx:id="inputTypeComboBox" onAction="#handleInputTypeSelection" prefWidth="120">
                <items>
                    <FXCollections fx:factory="observableArrayList">
                        <String fx:value="Vector" />
                        <String fx:value="Text" />
                        <String fx:value="Image" />
                    </FXCollections>
                </items>
            </ComboBox>
            <TextField fx:id="inputField" prefWidth="200" promptText="Enter vector" />
        </HBox>

        <Label text="Error Probability:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
        <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="1">
            <TextField fx:id="errorProbabilityField" prefWidth="120" promptText="Enter probability" />
            <Button onAction="#setProbability" prefWidth="120" text="Set" />
        </HBox>

        <Label text="Alphabet Size:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
        <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="2">
            <TextField fx:id="alphabetSizeField" prefWidth="120" promptText="Enter alphabet size" />
            <Button onAction="#setAlphabetSize" prefWidth="120" text="Set" />
        </HBox>
        <VBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="3">
            <Label fx:id="probabilityLabel" text="Probability (p): -" />
            <Label fx:id="alphabetLabel" text="Alphabet (q): 0" />
            <Label fx:id="blockLabel" text="Current Block (m): -" />
        </VBox>

        <Button onAction="#encodeBlock" prefWidth="100" text="Encode" GridPane.columnIndex="1" GridPane.rowIndex="4" />

        <Label style="-fx-font-weight: bold;" text="Encoded vs. Not Encoded" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="5" />

        <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="6">
            <TextField fx:id="encodedInputTextField" prefWidth="155" promptText="Encoded" />
            <TextField fx:id="notEncodedInputTextField" prefWidth="155" promptText="Not Encoded" />
        </HBox>

        <Button onAction="#sendBlock" prefWidth="100" text="Send" GridPane.columnIndex="1" GridPane.rowIndex="7" />

        <Label style="-fx-font-weight: bold;" text="With Error vs. With Error Not Encoded" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="8" />

        <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="9">
            <TextField fx:id="receivedBitsEncodedTextField" prefWidth="155" promptText="With Error Encoded" />
            <TextField fx:id="receivedNotEncodedTextField" prefWidth="155" promptText="With Error Not Encoded" />
        </HBox>

        <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="10">
            <Label fx:id="errorLabel" text="Errors: 0" />
            <Label fx:id="errorPositionLabel" text="Error Positions: -" />
        </VBox>

        <Button onAction="#decodeBlock" prefWidth="100" text="Decode" GridPane.columnIndex="1" GridPane.rowIndex="11" />

        <Label style="-fx-font-weight: bold;" text="Corrected Encoded vs. Corrected Not Encoded" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="12" />

        <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="13">
            <TextField fx:id="correctedEncodedTextField" prefWidth="155" promptText="Corrected Encoded" />
            <TextField fx:id="correctedNotEncodedTextField" prefWidth="155" promptText="Corrected Not Encoded" />
        </HBox>

        <Label style="-fx-font-weight: bold;" text="Decoded vs. Original" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="14" />

        <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="15">
            <TextField fx:id="decodedEncodedTextField" prefWidth="155" promptText="Decoded Encoded" />
            <TextField fx:id="decodedNotEncodedTextField" prefWidth="155" promptText="Decoded Not Encoded" />
        </HBox>

        <VBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="16">
            <Label fx:id="decodedTextLabel" text="Decoded Text: -" />
        </VBox>

        <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="17">
            <Button onAction="#toggleDebugMode" prefWidth="120" text="Toggle Debug" />
            <Button onAction="#processBlock" prefWidth="120" text="Process" />
        </HBox>
        <rowConstraints>
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
         <RowConstraints />
         <RowConstraints />
        </rowConstraints>

    </GridPane>

    <GridPane hgap="10" vgap="10" xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml/1">

        <padding>
            <Insets bottom="10" left="10" right="10" top="10" />
        </padding>

        <columnConstraints>
            <ColumnConstraints minWidth="100" prefWidth="150" />
            <ColumnConstraints minWidth="200" prefWidth="250" />
        </columnConstraints>

        <Label text="Columns (n):" GridPane.columnIndex="0" GridPane.rowIndex="0" />
        <TextField fx:id="columnsField" promptText="Enter n" GridPane.columnIndex="1" GridPane.rowIndex="0" />

        <Label text="Rows (k):" GridPane.columnIndex="0" GridPane.rowIndex="1" />
        <TextField fx:id="rowsField" promptText="Enter k" GridPane.columnIndex="1" GridPane.rowIndex="1" />

        <Button onAction="#generateMatrix" prefWidth="120" text="New Matrix" GridPane.columnIndex="1" GridPane.halignment="LEFT" GridPane.rowIndex="2" />

        <Label style="-fx-font-weight: bold;" text="Generating Matrix (G):" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="3" />

        <TableView fx:id="generatingMatrixTable" editable="true" prefHeight="200" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="4" />

        <Label style="-fx-font-weight: bold;" text="Parity Check Matrix (H):" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="5" />

        <TableView fx:id="parityCheckMatrixTable" editable="true" prefHeight="200" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="6" />

        <Label style="-fx-font-weight: bold;" text="Coset Leader:" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="7" />

        <TableView fx:id="cosetLeaderTable" editable="true" prefHeight="300" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="8" />

        <Label text="Total:" GridPane.columnIndex="0" GridPane.rowIndex="9" />
        <TextField fx:id="totalCosetLeaders" editable="false" promptText="0" GridPane.columnIndex="1" GridPane.rowIndex="9" />
        <rowConstraints>
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
        </rowConstraints>
    </GridPane>
</SplitPane>
